<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informacion del cliente</title>
    <link rel="stylesheet"
          type="text/css"
          href="../node_modules/bootstrap/dist/css/bootstrap.css"/>
    <style>
        main { 
            margin-top: 2%;
            padding-left: 30%;
            padding-right: 30%;
        }
        form {
            height: 70%;
        }
        .banner {
            background-color: maroon;
            padding: 4%;
        }
    </style>
</head>
<body>
    <main class="container">
        <div class="container rounded-top banner">
            <img class="" src="../IMGs/librePensador2.webp" height="19%" width="19%">
        </div>
        <form class="shadow p-3 mb-5 bg-body rounded" id="customerForm">
            <div class="mb-3">
              <label for="email" class="form-label">Email del cliente</label>
              <div class="input-group mb-3">
                <input type="email" class="form-control" id="email" oninput="emailChanged()" required>
                <button class="btn btn-outline-primary" id="btnSearchEmail" type="submit">Buscar</button>
              </div>
            </div>
            <div class="mb-3">
              <label for="name" class="form-label">Nombre del cliente</label>
              <input type="text" class="form-control" id="name" disabled>
            </div>
            <div class="mb-3">
                <label for="phone_number" class="form-label">Numero celular</label>
                <input type="text" class="form-control" id="phone_number" disabled>
            </div>
            <div class="mb-3">
                <label for="address" class="form-label">Direccion</label>
                <input type="text" class="form-control" id="address" disabled>
            </div>
            <div class="mb-3">
                <label for="total_points" class="form-label">Total de puntos</label>
                <input type="text" class="form-control" id="total_points" disabled>
            </div>
            <div class="mb-3">
                <label for="date_of_birth" class="form-label">Fecha de nacimiento</label>
                <input type="date" class="form-control" id="date_of_birth">
            </div>

            <input type="button" onclick="makeCustomer_CardLink()" class="btn btn-primary" id="btnLinkCardAndCusotmer" disabled value="Enlazar cliente con esta tarjeta">
        </form>
    </main>
    <script>
        function emailChanged() {
            document.getElementById("date_of_birth").required = false;
            document.getElementById("btnLinkCardAndCusotmer").disabled = true;
        }
    </script>
    <script type="module">
        import { makeCustomer_CardLink } from "../scripts/customer-CardLink/makeCustomer-CardLink.js";
        window.makeCustomer_CardLink = makeCustomer_CardLink;
    </script>
    <script type="module" src="../scripts/customer-CardLink/tryFillCustomerData.js"></script>
</body>
</html>
